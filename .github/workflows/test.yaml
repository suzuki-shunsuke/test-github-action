---
name: test
on:
  pull_request: {}
  push:
    branches:
      - main
jobs:
  foo:
    runs-on: ubuntu-24.04
    steps:
      - run: |
          test -n "$TEST_ENV"
        env:
          TEST_ENV: ${{vars.TEST_ENV}}

  bar:
    runs-on: ubuntu-24.04
    steps:
      - run: |
          test -n "$TEST_ENV"
        env:
          TEST_ENV: ${{vars.TEST_ENV}}

  status-check:
    runs-on: ubuntu-24.04
    needs: [foo, bar]
    if: always()
    steps:
      - run: exit 1
        if: contains(needs.*.result, 'failure') || contains(needs.*.result, 'cancelled')
      # check needs
