---
name: test
on:
  pull_request: {}
  push:
    branches:
      - main
jobs:
  foo:
    runs-on: ubuntu-24.04
    permissions:
      contents: write
    steps:
      - uses: suzuki-shunsuke/lock-action@pr/1
        id: lock
        with:
          mode: lock
          key: foo-3
          message: test
          post_unlock: "true"
      - run: echo "$OUTPUTS"
        env:
          OUTPUTS: ${{ toJSON(steps.lock.outputs) }}
      - uses: suzuki-shunsuke/lock-action@pr/1
        id: check
        with:
          mode: check
          key: foo-3
      - run: echo "$OUTPUTS"
        env:
          OUTPUTS: ${{ toJSON(steps.check.outputs) }}
