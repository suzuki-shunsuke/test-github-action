---
name: test
on: pull_request
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/github-script@v6
        id: my-script
        with:
          script: |
            const createdAt = new Date(context.payload.pull_request.created_at)
            core.info(`Created at: ${createdAt.toISOString()}`)
            createdAt.setHours(createdAt.getHours() + 1)
            core.info(`Deadline  : ${createdAt.toISOString()}`)
            const now = new Date(Date.now())
            core.info(`Now       : ${now.toISOString()}`)
            core.info(`Compare ${createdAt.toISOString()} > ${now.toISOString()}`)
            return createdAt > now
      - run: "true"
        if: fromJSON(steps.my-script.outputs.result)
        env:
          RESULT: ${{steps.my-script.outputs.result}}
